<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<title>マイクロウェブ日記ソース</title>
<script type="text/javascript">
function randid(n) {
var alpha = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split("");
var other = '0123456789-_.:'.split("");
var strs = alpha.concat(other);
var con = [];
push(con, alpha);
while(n >= 0)
push(con, strs);
return con.join("");
function push(c, s){
n--;
return c.push(s[Math.floor(Math.random() * s.length)])
}
}
var TAB = "    ";
var LF = "\r";
var doc = document.implementation.createDocument("","",null);
var d = new Date();
var sr = new XMLSerializer();
function txt(str){ return doc.createTextNode(str); }
function serialize(element){ return sr.serializeToString(txt(sr.serializeToString(element))); }
</script>
<body>
<pre><script type="text/javascript">
var day = ["日","月","火","水","木","金","土"][d.getDay()];
var date = d.getDate();
var month  = ["1","2","3","4","5","6","7","8","9","10","11","12"][d.getMonth()];
var year = d.getFullYear();
var nen = ("年");
var gatu = ("月");
var niti = ("日");
var youbi = ("曜日");
var h2 = doc.createElement("h2");
var ol = doc.createElement("ol");
var fragment = document.createDocumentFragment();
function readingZero(con){
if (con < 10)
con = "0" + con;
return con;
}
function addLi(liCount) {
 while (0 < liCount--) {
 var li = doc.createElement("li");
 li.appendChild(txt(""));
 li.appendChild(txt(LF));
 fragment.appendChild(li);
 }
 ol.appendChild(fragment);
}
h2.setAttribute("class", "today");
h2.setAttribute("id", randid(10) + ["",year,readingZero(d.getMonth()+1),readingZero(date)].join("-"));
var idate = doc.createElement("i");
idate.setAttribute("class", "date");
idate.appendChild(txt(month));
idate.appendChild(txt(gatu));
idate.appendChild(txt(date));
idate.appendChild(txt(niti));
var iday = doc.createElement("i");
iday.setAttribute("class", "day");
iday.appendChild(txt(day));
iday.appendChild(txt(youbi));
var imonth = doc.createElement("i");
imonth.setAttribute("class", "month");
var iyear = doc.createElement("i");
iyear.setAttribute("class", "year");
iyear.appendChild(txt(year));
iyear.appendChild(txt(nen));
h2.appendChild(txt(LF));
h2.appendChild(iyear);
h2.appendChild(txt(LF));
h2.appendChild(idate);
h2.appendChild(txt(LF));
h2.appendChild(iday);
h2.appendChild(txt(LF));
document.write(serialize(h2));
document.write("\n");
ol.appendChild(txt(LF));
addLi(10);
ol.appendChild(txt(LF));
document.write(serialize(ol));
</script>
</pre>


<!--jintrick氏のスクリプトを改変したもの-->